---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# apr

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
[![CRAN status](https://www.r-pkg.org/badges/version/apr)](https://CRAN.R-project.org/package=apr)
[![R-CMD-check](https://github.com/11rchitwood/apr/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/11rchitwood/apr/actions/workflows/R-CMD-check.yaml)
[![Codecov test coverage](https://codecov.io/gh/11rchitwood/apr/graph/badge.svg)](https://app.codecov.io/gh/11rchitwood/apr)
<!-- badges: end -->

The goal of apr is to bring the goodness of [APL](https://en.wikipedia.org/wiki/APL_(programming_language)) to R. R provides multidimensional arrays out of the box, but many of the table stakes for array programming are missing. This package seeks to fill that gap.

## Installation

You can install the development version of apr like so:

``` r
pak::pak("11rchitwood/apr")
```

## APL Glyph Implementation Plan

The following sections group APL glyphs into categories and then list their corresponding monadic and dyadic function names in the `apr` package. *Note: "—" indicates that the glyph does not have a standard monadic or dyadic form in APL.*

### Shape

- ⍴ (`apr_shape` [[R](R/apr_shape.R)|[test](tests/testthat/test-apr_shape.R)], `apr_reshape` [[R](R/apr_reshape.R)|[test](tests/testthat/test-apr_reshape.R)])
- ⍳ (`apr_iota` [[R](R/apr_iota.R)|[test](tests/testthat/test-apr_iota.R)], `apr_index_of` [[R](R/apr_index_of.R)|[test](tests/testthat/test-apr_index_of.R)])
- ↑ (`apr_first`, `apr_take`)
- ↓ (—, `apr_drop`)

### Structural

- ⍉ (`apr_transpose` [[R](R/apr_transpose.R)|[test](tests/testthat/test-apr_transpose.R)], `apr_transpose_axes` [[R](R/apr_transpose_axes.R)|[test](tests/testthat/test-apr_transpose_axes.R)])
- ⌽ (`apr_reverse` [[R](R/apr_reverse.R)|[test](tests/testthat/test-apr_reverse.R)], `apr_rotate` [[R](R/apr_rotate.R)|[test](tests/testthat/test-apr_rotate.R)])
- ⊖ (`apr_reverse_first`, `apr_rotate_first`)
- , (`apr_ravel`, `apr_catenate`)
- ⍪ (`apr_table`, `apr_catenate_first`)

### Functional

[Source](R/functional.R) | [Tests](tests/testthat/test-functional.R)

- / (—, `apr_reduce`)
- ⌿ (—, `apr_reduce_first`)
- \\ (`apr_expand`, `apr_scan`)
- ⍀ (`apr_expand_first`, `apr_scan_first`)

### Set Operations

[Source](R/set.R) | [Tests](tests/testthat/test-set.R)

- ∊ (`apr_enlist`, `apr_membership`)
- ∩ (—, `apr_intersection`)
- ∪ (`apr_unique`, `apr_union`)

### Sorting

[Source](R/sorting.R) | [Tests](tests/testthat/test-sorting.R)

- ⍋ (`apr_grade_up`, `apr_bins_up`)
- ⍒ (`apr_grade_down`, `apr_bins_down`)

### Nesting

[Source](R/nesting.R) | [Tests](tests/testthat/test-nesting.R)

- ⊂ (`apr_enclose`, `apr_partition`)
- ⊃ (`apr_disclose`, `apr_pick`)
- ≡ (`apr_depth`, `apr_match`)
- ≢ (`apr_tally`, `apr_not_match`)

### Encoding

[Source](R/encoding.R) | [Tests](tests/testthat/test-encoding.R)

- ⊥ (—, `apr_decode`)
- ⊤ (—, `apr_encode`)

### Arithmetic

[Source](R/arithmetic.R) | [Tests](tests/testthat/test-arithmetic.R)

- + (`apr_conjugate`, `apr_plus`)
- − (`apr_negate`, `apr_minus`)
- × (`apr_signum`, `apr_times`)
- ÷ (`apr_reciprocal`, `apr_divide`)
- \| (`apr_abs`, `apr_mod`)
- * (`apr_exp`, `apr_power`)

### Mathematical

[Source](R/mathematical.R) | [Tests](tests/testthat/test-mathematical.R)

- ⌈ (`apr_ceiling`, `apr_max`)
- ⌊ (`apr_floor`, `apr_min`)
- ○ (`apr_pi_times`, `apr_circular`)
- ⍟ (`apr_ln`, `apr_log`)
- ? (`apr_roll`, `apr_deal`)

### Matrix

[Source](R/matrix.R) | [Tests](tests/testthat/test-matrix.R)

- ⌹ (`apr_matrix_inverse`, `apr_matrix_divide`)

### Comparison

[Source](R/comparison.R) | [Tests](tests/testthat/test-comparison.R)

- < (—, `apr_less`)
- ≤ (—, `apr_less_equal`)
- = (—, `apr_equal`)
- ≥ (—, `apr_greater_equal`)
- > (—, `apr_greater`)
- ≠ (—, `apr_not_equal`)

### Logic

[Source](R/logic.R) | [Tests](tests/testthat/test-logic.R)

- ∧ (—, `apr_lcm`)
- ∨ (—, `apr_gcd`)
- ⍱ (—, `apr_nand`)
- ⍲ (—, `apr_nor`)

### Selection

[Source](R/selection.R) | [Tests](tests/testthat/test-selection.R)

- ⊣ (`apr_identity`, `apr_left`)
- ⊢ (`apr_identity`, `apr_right`)
- ⍸ (`apr_where`, `apr_interval_index`)

### Formatting

[Source](R/formatting.R) | [Tests](tests/testthat/test-formatting.R)

- ⍎ (`apr_execute`, —)
- ⍕ (`apr_format`, `apr_format_precision`)
